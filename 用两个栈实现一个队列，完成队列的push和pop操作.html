<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
  <script>
    class Stack {
      constructor() {
        this.items = []
      }

      push(value) {
        this.items.push(value)
      }

      pop() {
        return this.items.pop()
      }
      size() {
        return this.items.length
      }
      getTop() {
        return this.items[length - 1]
      }
    }

    //用两个栈实现一个队列
    //思路：先将栈一的元素倒入栈二，然后栈二移除顶部元素
    const stack1 = new Stack()
    const stack2 = new Stack()
    class Queque {
      push(ele) {
        stack1.push(ele)
      }
      pop() {
        if (stack2.size()) {
          stack2.pop()
        }
        while (stack1.size() > 0) {
          stack2.push(stack1.getTop())
          stack1.pop()
        }
        return stack2.pop() || -1
      }
    }

    //两个队列实现一个栈
    //实现思路：将队列1的元素按顺序导入队列二，只留下最后一个出队列。
    //然后在队列二中将元素按顺序导入队列二，只留下最后一个，出队列
    //这样循环反复直到两个队列的长度为0
    class Queue {
      constructor() {
        this.items = []
      }
      enqueue(element) {
        this.items.push(element)
      }
      dequeque() {
        return this.items.shift()
      }
      front() {
        return this.items[0]
      }
      size() {
        return this.items.length
      }
      isEmpty() {
        return this.items.length === 0
      }
    }
    const queue1 = new Queue()
    const queue2 = new Queue()
    queue1.enqueue(1)
    queue1.enqueue(2)
    queue1.enqueue(3)
    queue1.enqueue(4)
    queue1.enqueue(5)
    class Stack {
      pop() {
        while (queue1.size() || queue2.size()) {
          if (queue1.size()) {
            popStack(queue1, queue2)
          } else if (queue2.size()) {
            popStack(queue2, queue1)
          }
        }
      }
    }
    function popStack(queue1, queue2) {
      while (queue1.size() > 1) {
        queue2.enqueue(queue1.front())
        queue1.dequeque()
      }
      ret = queue1.front()
      queue1.dequeque()
    }
    const stack = new Stack()
    stack.pop()
  </script>
</html>
